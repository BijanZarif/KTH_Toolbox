!> @file AVG_SPTD
!! @ingroup avg_spt
!! @brief Include file for avg_spt module
!! @author Prabal Singh Negi
!! @author Adam Peplinski
!! @date Jun 9, 2016
!=======================================================================
      integer avgs_ldim         ! dimension of averaged field
      parameter (avgs_ldim=LDIM-1)
      integer avgs_idir         ! uniform direction
      integer avgs_lnum         ! number of locally unique 2D elements
      integer stat_gnum         ! number of globally unique 2D elements
      integer stat_lown         ! number of elements owned by NID
      integer avgs_lmap(LELT)   ! local map of elements 3D => 2D
      integer STAT_GMAP(LELT)   ! local => global map
      integer STAT_OWN(LELT)    ! global ownership
      integer avgs_lm1          ! upper limit of 1D array dimension
      parameter (avgs_lm1 = max(LX1,max(LY1,LZ1)))
      integer avgs_lm2          ! upper limit of element size
      parameter (avgs_lm2 = avgs_lm1**(avgs_ldim))
      integer STAT_NM1          ! number of points in uniform direction
      integer STAT_NM2, STAT_NM3 ! number of points in 2D element
      integer STAT_ION, STAT_CNN, STAT_EVN ! counters for I/O, communication and averaging calls

      real avgs_tol             ! tolerance for detection of section borders
      parameter (avgs_tol = 1.0e-8)
      real avgs_tini, STAT_TEV, STAT_TCMM, STAT_TIO ! simple timing

      real STAT_BM1D(STAT_LM1,STAT_LM1,STAT_LM1,LELT) ! 1D mass matrix
      real STAT_ABM1D(STAT_LM1,STAT_LM1,LELT) ! line length

      real avgs_xm1(avgs_lm2,avgs_ldim,LELT) ! coordinates of averaged owned elements

      real STAT_RUAVG(STAT_LM1,STAT_LM1,LELT,STAT_LVAR) ! averaged fields

!-------------------------------------------------- 
      integer STAT_PROCID(LELV),STAT_PROCPOS(LELV)
      integer STAT_MAXREC,STAT_SND_CNT,STAT_RECNO
      integer STAT_COMP,STAT_OUTP

      logical STAT_INI

      real STAT_TSTART,STAT_ATIME

!     common blocks
      common /avgsi/ avgs_idir, avgs_lnum, STAT_GNUM, 
     $     STAT_LOWN, STAT_NM1, STAT_NM2, STAT_NM3, STAT_ION,
     $     STAT_CNN, STAT_EVN,
     $     STAT_MAXREC,STAT_SND_CNT,STAT_PROCID,STAT_RECNO,
     $     STAT_PROCPOS, STAT_COMP, STAT_OUTP

      common /avgsiv/ avgs_lmap, STAT_GMAP, STAT_OWN

      common /avgsr/ avgs_tini, STAT_TEV, STAT_TCMM, STAT_TIO,
     $     STAT_TSTART,STAT_ATIME

      common /avgsrv/ STAT_BM1D, STAT_ABM1D, STAT_RUAVG, avgs_xm1

      common /avgsl/ STAT_INI
      
